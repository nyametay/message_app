<!DOCTYPE html>
<html lang="en" class="overflow-x-hidden">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sign Up - MessageApp</title>
  <script>
    if (localStorage.getItem('theme') === 'dark') {
      document.documentElement.classList.add('dark');
    }
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { darkMode: 'class' }
  </script>

</head>
<body class="bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200 font-sans min-h-screen flex items-center justify-center relative">

  <!-- Dark Mode Toggle Button -->
  <button id="toggle-theme" class="absolute top-4 right-4 text-purple-700 dark:text-purple-300 focus:outline-none">
    <svg id="theme-icon" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
      <!-- Icon will be replaced dynamically -->
    </svg>
  </button>
  <div class="w-full max-w-md space-y-6">

    <!-- Flash Messages -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="space-y-3" id="flash-container">
      {% for category, msg in messages %}
        <div class="flash-msg px-4 py-3 rounded text-sm font-medium flex justify-between items-center
          {% if category == 'success' %}
            bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100
          {% elif category == 'danger' %}
            bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-100
          {% elif category == 'warning' %}
            bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100
          {% elif category == 'info' %}
            bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100
          {% else %}
            bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200
          {% endif %}
        ">
          <span>{{ msg }}</span>
          <button type="button" class="ml-4 focus:outline-none" onclick="this.parentElement.remove()">
            &times;
          </button>
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}


    {% block content %}

    {% endblock %}

  </div>
  <script src="../static/scripts/notification.js"></script>
  <script src="../static/scripts/disappear.js"></script>
  <script src="../static/scripts/password_toggle.js"></script>
</body>
</html>
